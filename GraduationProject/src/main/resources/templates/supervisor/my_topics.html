<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link th:href="@{/css/layout.css}" rel="stylesheet">
  <link th:href="@{/css/my_topics.css}" rel="stylesheet">
<title>Đề Tài Của Tôi</title>
</head>
<body>
<div th:replace="layout::header(${name}, ${email}, ${'supervisor'})"></div>
	
	<div class="container">
        <!-- <div class="area-filter">
            <div class="filter-bar">
                <div class="search-group">
                  <input type="text" id="searchName" placeholder="Tìm kiếm chủ đề..." />
                  <span class="clear-btn" id="clearSearch">×</span>
                </div>
            
                <select id="filterYear">
                  <option value="">Năm</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                </select>
            
                <select id="filterStatus">
                  <option value="">Tình trạng</option>
                  <option value="Đã hoàn thành">Đã hoàn thành</option>
                  <option value="Chưa được thực hiện">Chưa được thực hiện</option>
                </select>
            </div>
            
              <div class="filter-opp">
                  <div class="filters" id="activeFilters"></div>
                  <button class="reset-btn" id="resetFilters" style="display: none;">Reset all filters ×</button>  
                </div>
        </div> -->
        <div class="area-filter">
		  <div class="filter-bar">
		    <div class="search-group">
		      <input type="text" id="searchTopic" name="searchTopic" placeholder="Tìm kiếm theo chủ đề..." />
		      <span class="clear-btn" id="clearSearch">×</span>
		    </div>
		
		    <select id="filterCourse" name="filterCourse">
		      <option value="">Chọn khóa</option>
		      <option value="K42">K42</option>
		      <option value="K43">K43</option>
		      <option value="K44">K44</option>
		      <option value="K45">K45</option>
		    </select>
		
		    <select id="filterType" name="filterType">
		      <option value="">Chọn loại đề tài</option>
		      <option value="Luận văn">Luận văn</option>
		      <option value="Đồ án">Đồ án</option>
		      <option value="Khác">Khác</option>
		    </select>
		
		    <select id="filterStatus" name="filterStatus">
		      <option value="">Tình trạng</option>
		      <option value="Đã hoàn thành">Đã hoàn thành</option>
		      <option value="Chưa được thực hiện">Chưa được thực hiện</option>
		    </select>
		  </div>
		  <div class="filter-opp">
		    <div class="filters" id="activeFilters"></div>
		    <button class="reset-btn" id="resetFilters" style="display: none;">Reset all filters ×</button>
		  </div>
		</div>
                
        <div class="title">
            <h1>Đề tài của tôi</h1>
            <a href="#" class="view-all">Xem tất cả</a>
        </div>
        <div class="card-container">
            <div th:each="topic : ${topics}" class="card">
	        <img class="card-image" src="/image/system/topic.png"/>
		        <div class="card-content">
		            <h2 th:text="${topic.topic}">Tên đề tài</h2>
		            <p th:text="'Tình trạng: ' + ${topic.state == 0 ? 'Đang chờ duyệt' : topic.state == 1 ? 'Chờ đăng kí' : topic.state == 2 ? 'Đang thực hiện' : 'Đã hoàn thành'}"></p>
		            <p th:text="'Cập nhật: ' + 12/05/2025"></p> 
		            <!-- <p th:text="'Cập nhật: ' + ${#dates.format(topic.course.updatedAt, 'dd/MM/yyyy')}"></p>  --> <!-- Giả sử Course có updatedAt -->
		            <a href="#" class="detail-button">Xem chi tiết &gt;</a>
		        </div>
	   	 	</div>
        </div>
    </div>
    
    <div th:replace="layout::footer"></div>

    <script src="/js/script.js"></script>
</body>
</html>